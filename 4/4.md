## 木
---

２次元のリンクによるデータ構造。数多くの重要なアルゴリズムで中心的役割を果たす。木は計算機科学以外の分野にも多数現れ、数学的対象としても広く研究されてる。

**4つの例**

1. 人々の先祖や子孫を記録した家系図
2. スポーツで使われるトーナメント
3. ルイス・キャロルも研究した会社の組織図(階層的な分解)
4. 英語の文をその構成要素に分解する(解析木)

#### 木の定義
---

木(*tree*)は、次にあげる性質を満たす(空ではない)節点(*node*)の酒豪と辺(枝、*edge*)の集合からなる。節点は、単なるものであり、頂点(*vertex*)ともいわれる、節点には名前がつけられたり、他の情報をもつことがある。辺は、２つの節点を結ぶものである。木の道(*path*)とは、互いに異なる節点の並びであり、並びの中で隣り合う節点は辺で結ばれているものである。木の節点の一つは、特に根(*root*)として指定されている。木の定義として、根とそれ以外の任意の節点の間にちょうど１つだけあるものとする。

根以外の節点は、上にちょうど一つだけの節点があるが、この節点を親(*parent*)という。節点に対して、直接下の節点を子(*child*)という。子のない節点は葉(*leaf*)という。終端点は、非終端点と区別して扱う事がおおい。
非終端点のことを内部節点(*internal node*)、終端点のことを外部節点(*external node*)という。

どの節点もそれ自身とそれより下にある節点からなる部分木(*subtree*)の根になっている。木の集合を森(*forest*)という。

節点の子である節点の集まりの間に順序を決めることが必要になるかもしれない。順序木(*ordered tree*)とは、どの節点についてもその子の節点の順序が指定されているものである。

木の節点の集まりはレベルで分類できる。節点のレベル(*level*)とは、根からその節点に至道にある節点の数のことである(自分自身は含めない)。木の高さ(*height*)とは木の節点のレベルの中で最大のレベル。木の道長(*path length*)は、木の節点のレベルの総和。内部節点と外部節点を区別するなら、木の内部道長(*internal path length*)と外部道長(*external path length*)も自然に定義できる。

木において、どの節点(非終端点)も一定数の子をもち、その順序が指定されている場合、この木を多分木(*multiway tree*)という。

多分木の中で2分木(*binary tree*)は簡単。一番したのレベルを除いて、どのレベルも内部点が完全に詰まってる状態、2分木が一杯になっているなら完全2分木(*complete binary tree*)という。

#### 木の性質
---

木の性質の内、アルゴリズムに特に関係の深いものをあげる

**性質4.1** 木において、任意の２つの節点を結ぶ道はただ一つである。最小共通先祖(*least common ancester*)、根付き木(*rooted tree*)、自由木(*free tree*)。

**性質4.2** 節点の個数が*N*である木には、辺が*N-1*個ある。

**性質4.3** 内部節点が*N*個である２分木には、*N+1*個の外部節点がある。

**性質4.4** 内部節点が*N*個ある２分木において、その外部道長は内部道長より丁度*2N*だけ大きい。

**性質4.5** 内部節点が*N*個ある2分木が一杯になっていれば、その高さは約 *log<sub>2</sub>N*である。

2<sup>n-1</sup> < N + 1 <= 2<sup>n</sup>

#### 2分木の表現
---

leftとrightの二つの子がある。式の解析木(*parse tree*)とかに使える。

![後置記法の式から解析木を作る](parse.c)。
かけてない。

#### 森の表現
---

木をおりていく必要がなく、上っていくだけなら、配列*a*には節点におく情報を入れ、配列*dad*には親へのリンクを入れる。

#### 木の走査(*traverse*)
---

いろんな順序で走査できる。

![先行順による木の走査](preorder.c)。

中央順とか後行順、レベル順。

![レベル順による木の走査](lovel_order.c)。
